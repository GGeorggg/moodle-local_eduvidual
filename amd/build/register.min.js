define(["jquery","core/ajax","core/notification","core/str","core/url","block_eduvidual/main"],function(a,b,c,d,e,f){return{check:function(){var b=a("#eduvidual_registration_orgid").val();require(["block_eduvidual/main"],function(a){a.connect({module:"register",stage:0,orgid:b})})},request:function(){var b=a("#eduvidual_registration_orgid").val();require(["block_eduvidual/main"],function(a){a.connect({module:"register",stage:1,orgid:b})})},validate:function(){var b=a("#eduvidual_registration_orgid").val(),c=a("#eduvidual_registration_token").val(),d=a("#eduvidual_registration_name").val();require(["block_eduvidual/main"],function(a){a.connect({module:"register",stage:2,orgid:b,token:c,name:d})})},result:function(b){b.result&&b.result.status&&"ok"==b.result.status?(console.log(b.result),0==b.data.stage&&(a("#block_eduvidual_registration_stage-1, #block_eduvidual_registration_stage-0-error").css({display:"none"}),1==b.result.authenticated?a("#block_eduvidual_registration_stage-0-error").css({display:"block"}):a("#block_eduvidual_registration_stage-1").css({display:"block"}),a("#eduvidual_registration_name").val(b.result.name.substring(0,30)),a("#eduvidual_registration_mail").html(b.result.mail)),1==b.data.stage&&d.get_strings([{key:"mailregister:confirmation",component:"block_eduvidual"},{key:"mailregister:confirmation:mailsent",component:"block_eduvidual"},{key:"ok"}]).done(function(a){c.alert(a[0],a[1],a[2])}).fail(c.exception),2==b.data.stage&&(a("#block_eduvidual_registration_stage-0").css({display:"none"}),a("#block_eduvidual_registration_stage-1").css({display:"none"}),a("#block_eduvidual_registration_stage-2").css({display:"block"}),a("#block_eduvidual_registration_homecategory").attr("href","/course/index.php?categoryid="+b.result.categoryid).html(b.result.name))):b.result.error&&""!=b.result.error?c.alert("Error",b.result.error,"ok"):"silent"!=b.result.status&&c.alert("Error","Action failed!","ok")}}});