define(["jquery","core/ajax","core/notification","core/str","core/url","block_eduvidual/main"],function(f,b,c,e,a,d){return{debug:false,run:function(g){console.log("block_eduvidual/jsinjector:run(data)",g);e.get_strings([{key:"Accesscard",component:"block_eduvidual"}]).then(function(h){f('.usermenu .dropdown a[href$="/user/preferences.php"]').after(f("<a>").attr("href",a.relativeUrl("blocks/eduvidual/pages/accesscard.php")).addClass("dropdown-item menu-action").attr("role","menuitem").attr("data-title","moodle,accesscard").attr("aria-labelledby","actionmenuaction-accesscard").attr("data-ajax","false").append([f("<i>").addClass("icon fa fa-id-card fa-fw").attr("aria-hidden","true"),f("<span>").addClass("menu-action-text").attr("id","actionmenuaction-accesscard").html(h[0]),]))});f("a[href*='/login/logout.php?sesskey']").attr("href",a.relativeUrl("/blocks/eduvidual/pages/redirects/logout.php"));this.fakeBreadCrumb()},courseEditPage:function(g){f("#fitem_id_shortname").css("display","none");if(f("#fitem_id_shortname #id_shortname").val()==""){var h=new Date();f("#fitem_id_shortname #id_shortname").val(g+"-"+Date.now())}},fakeBreadCrumb:function(){if(f("#page #page-header .card-body .d-flex.flex-wrap #page-navbar").length==0){e.get_strings([{key:"navigation",component:"core"},{key:"myhome",component:"core"}]).then(function(g){f("#page #page-header .card-body .d-flex.flex-wrap").prepend(f('<div id="page-navbar">').append(f('<nav role="navigation" aria-label="'+g[0]+'">').append(f('<ol class="breadcrumb">').append(f('<li class="breadcrumb-item">').append(f('<a data-ajax="false">').attr("href",a.relativeUrl("/my")).html(g[1]))))))})}},modifyRedirectUrl:function(g){if(this.debug){console.log("block_eduvidual/jsinjector:modifyRedirectUrl(type)",g)}if(g=="coursedelete"){f("#page-content .continuebutton form").attr("action",a.relativeUrl("/my"));f('#page-content .continuebutton form input[name="categoryid"]').remove()}},signupPage:function(){e.get_strings([{key:"email",component:"core"}]).then(function(g){f('#fitem_id_username label[for="id_username"]').html(g[0]);f("#fitem_id_username #id_username").attr("onkeyup","document.getElementById('id_email').value = document.getElementById('id_username').value;");f("#fitem_id_email").css("display","none");f('form[action*="/login/signup.php"]').attr("onsubmit","document.getElementById('id_email').value = document.getElementById('id_username').value;")})},}});