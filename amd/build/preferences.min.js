define(["jquery","core/ajax","core/notification","core/str","core/url","local_eduvidual/main"],function(f,b,c,e,a,d){return{setBackground:function(h){var g=f(h).css("background-image").replace("url(","").replace(")","").replace('"',"").replace('"',"");f(h).css("filter","blur(1px)");require(["local_eduvidual/main"],function(i){i.connect({module:"preferences",act:"background",background:g},{sender:h,signalItem:f(h)})})},result:function(g){if(g.data.act=="background"){f("#local_eduvidual_preferences_background a").css("filter","unset");if(g.result.status=="ok"){f("#local_eduvidual_preferences_background a").parent().removeClass("active");f(g.payload.sender).parent().addClass("active");f("body").css("background-image","url("+g.data.background+")")}}},}});